<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- <mapper namespace="com.xia.mapper.UserMapper"> -->
<mapper namespace="com.xia.mapper.UserMapper">

	<cache type="org.mybatis.caches.ehcache.EhcacheCache"/>
	<!-- <cache eviction="LRU" type="com.xia.cache.redis.RedisCache" /> -->
	
	<!-- sql片段 -->
	<sql id="query_user_where">
	<!-- 动态sql -->
		<if test="userCustom!=null">
			<if test="userCustom.name!=null and userCustom.name!=''">
				user.name like  '${userCustom.name}%'
			</if>
		</if>
		
	</sql>
	
	<select id="getUserById" parameterType="com.xia.ssm.vo.UserQueryVo" resultType="com.xia.ssm.po.UserCustom" >
		select user.* from user 
		<where>
			<include refid="query_user_where"></include>
		</where>
	</select>
	
</mapper>